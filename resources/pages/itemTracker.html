<h1>Item Price Tracker</h1>

<div style="display: flex; flex-direction: column; gap: 20px; padding: 20px">
	<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-around">
        <div style="display: flex; align-items: center; gap: 5px; flex-direction: row">
			<input type="checkbox" id="itemTrackerCheckbox" />
			<div>Enable Item Tracker</div>
		</div>
		<button onclick="itemTrackerOpenModal()">Add Item</button>
		<div style="display: flex; align-items: center; gap: 5px; flex-direction: row">
			<input type="checkbox" id="trackerActiveBtn" onchange="togglePriceTracking()" />
			<div>Enable Notifications</div>
		</div>
		<div id="itemTrackerLastRefresh">Loading...</div>
	</div>

	<div>
		<h2>Tracked Items</h2>
		<div id="trackedItemsList" style="display: flex; flex-direction: column; gap: 10px; margin-top: 20px"></div>
	</div>
</div>

<div id="addItemModal">
	<div id="addItemModalContent">
		<h2 style="justify-content: space-between; width: 100%; display: flex; flex-direction: row; align-items: center">
			<div>Add Item to Track</div>
			<button type="button" style="cursor: pointer; padding: 5px 10px" onclick="itemTrackerCloseModal()" style="padding: 10px">X</button>
		</h2>

		<form id="addItemForm" style="display: flex; flex-direction: column; gap: 10px">
			<div>
				<label for="itemTagInput">Select Item:</label>
				<input list="itemsList" id="itemTagInput" required style="width: 100%; padding: 5px" placeholder="Start typing to search..." onchange="updatePriceType()" oninput="updatePriceType()" />
				<datalist id="itemsList"></datalist>
			</div>

			<div>
				<label>Price Type:</label>
				<div id="priceTypeDisplay" style="padding: 5px; background-color: #f0f0f0; border: 1px solid #ccc; border-radius: 3px; font-weight: bold">Select an item to see price type</div>
			</div>

			<div>
				<label for="thresholdTypeSelect">Alert When Price:</label>
				<select id="thresholdTypeSelect" required style="width: 100%; padding: 5px">
					<option value="below">Goes Below</option>
					<option value="above">Goes Above</option>
				</select>
			</div>

			<div>
				<label for="thresholdPriceInput">Threshold Price:</label>
				<input type="number" id="thresholdPriceInput" required min="0" step="0.01" style="width: 100%; padding: 5px" />
			</div>

			<button type="submit" onclick="handleAddItem()" style="cursor: pointer; padding: 10px; background-color: #4caf50; color: white; border: none; border-radius: 3px">Add Item</button>
		</form>
	</div>
</div>
